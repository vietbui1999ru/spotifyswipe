{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/HeaderSearch.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"header\": \"HeaderSearch-module__NixLEq__header\",\n  \"inner\": \"HeaderSearch-module__NixLEq__inner\",\n  \"link\": \"HeaderSearch-module__NixLEq__link\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/ColorSchemeToggle.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"dark\": \"ColorSchemeToggle-module__kK2YFa__dark\",\n  \"icon\": \"ColorSchemeToggle-module__kK2YFa__icon\",\n  \"light\": \"ColorSchemeToggle-module__kK2YFa__light\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///Users/vietquocbui/repos/VsCode/vietbui1999ru/CodePath/Web/Web102/spotiswipe/src/app/_components/ColorSchemeToggle.tsx"],"sourcesContent":["import {\n\tActionIcon,\n\tGroup,\n\tuseComputedColorScheme,\n\tuseMantineColorScheme,\n} from \"@mantine/core\";\nimport { IconMoon, IconSun } from \"@tabler/icons-react\";\nimport cx from \"clsx\";\nimport classes from \"~/styles/ColorSchemeToggle.module.css\";\n\nconst ActionToggle = () => {\n\tconst { setColorScheme } = useMantineColorScheme();\n\tconst computedColorScheme = useComputedColorScheme(\"light\", {\n\t\tgetInitialValueInEffect: true,\n\t});\n\n\treturn (\n\t\t<Group justify=\"center\">\n\t\t\t<ActionIcon\n\t\t\t\taria-label=\"Toggle color scheme\"\n\t\t\t\tonClick={() =>\n\t\t\t\t\tsetColorScheme(computedColorScheme === \"light\" ? \"dark\" : \"light\")\n\t\t\t\t}\n\t\t\t\tradius=\"md\"\n\t\t\t\tsize=\"xl\"\n\t\t\t\tvariant=\"default\"\n\t\t\t>\n\t\t\t\t<IconSun className={cx(classes.icon, classes.light)} stroke={1.5} />\n\t\t\t\t<IconMoon className={cx(classes.icon, classes.dark)} stroke={1.5} />\n\t\t\t</ActionIcon>\n\t\t</Group>\n\t);\n};\n\nexport default ActionToggle;\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AACA;AACA;;;;;;;AAEA,MAAM,eAAe;;IACpB,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,0QAAqB;IAChD,MAAM,sBAAsB,IAAA,4QAAsB,EAAC,SAAS;QAC3D,yBAAyB;IAC1B;IAEA,qBACC,6LAAC,qLAAK;QAAC,SAAQ;kBACd,cAAA,6LAAC,oMAAU;YACV,cAAW;YACX,SAAS,IACR,eAAe,wBAAwB,UAAU,SAAS;YAE3D,QAAO;YACP,MAAK;YACL,SAAQ;;8BAER,6LAAC,kOAAO;oBAAC,WAAW,IAAA,mJAAE,EAAC,4JAAO,CAAC,IAAI,EAAE,4JAAO,CAAC,KAAK;oBAAG,QAAQ;;;;;;8BAC7D,6LAAC,qOAAQ;oBAAC,WAAW,IAAA,mJAAE,EAAC,4JAAO,CAAC,IAAI,EAAE,4JAAO,CAAC,IAAI;oBAAG,QAAQ;;;;;;;;;;;;;;;;;AAIjE;GAtBM;;QACsB,0QAAqB;QACpB,4QAAsB;;;KAF7C;uCAwBS"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///Users/vietquocbui/repos/VsCode/vietbui1999ru/CodePath/Web/Web102/spotiswipe/src/app/_components/HeaderSearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { Autocomplete, Burger, Group } from \"@mantine/core\";\nimport { useDebouncedValue, useDisclosure } from \"@mantine/hooks\";\nimport { IconBrandLastfm, IconSearch } from \"@tabler/icons-react\";\nimport { useState } from \"react\";\nimport classes from \"~/styles/HeaderSearch.module.css\";\nimport { api } from \"~/trpc/react\";\nimport ColorSchemeToggle from \"./ColorSchemeToggle\";\n\nconst links = [\n\t{ link: \"/about\", label: \"Features\" },\n\t{ link: \"/community\", label: \"Community\" },\n];\n\nconst HeaderSearch = () => {\n\tconst [opened, { toggle }] = useDisclosure(false);\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\tconst [debouncedQuery] = useDebouncedValue(searchQuery, 300);\n\n\tconst { data: searchResults } = api.song.search.useQuery(\n\t\t{ query: debouncedQuery, limit: 10 },\n\t\t{\n\t\t\tenabled: debouncedQuery.length > 2,\n\t\t\trefetchOnWindowFocus: false,\n\t\t},\n\t);\n\n\tconst autocompleteData =\n\t\tsearchResults?.map((track) => ({\n\t\t\tvalue: `${track.name} - ${track.artist}`,\n\t\t\tlabel: `${track.name} - ${track.artist}`,\n\t\t})) ?? [];\n\n\t// Deduplicate by value\n\tconst uniqueData = Array.from(\n\t\tnew Map(autocompleteData.map((item) => [item.value, item])).values(),\n\t);\n\n\tconst items = links.map((link) => (\n\t\t<a\n\t\t\tclassName={classes.link}\n\t\t\thref={link.link}\n\t\t\tkey={link.label}\n\t\t\tonClick={(event) => event.preventDefault()}\n\t\t>\n\t\t\t{link.label}\n\t\t</a>\n\t));\n\n\treturn (\n\t\t<header className={classes.header}>\n\t\t\t<div className={classes.inner}>\n\t\t\t\t<Group>\n\t\t\t\t\t<Burger hiddenFrom=\"sm\" onClick={toggle} opened={opened} size=\"sm\" />\n\t\t\t\t\t<IconBrandLastfm\n\t\t\t\t\t\tcolor=\"var(--mantine-color-white)\"\n\t\t\t\t\t\tsize={50}\n\t\t\t\t\t\tstroke={1.5}\n\t\t\t\t\t/>\n\t\t\t\t</Group>\n\n\t\t\t\t<Autocomplete\n\t\t\t\t\tclassName={classes.search}\n\t\t\t\t\tdata={uniqueData.map((d) => d.value)}\n\t\t\t\t\tleftSection={<IconSearch size={20} stroke={1.5} />}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tconsole.debug(\"[SpotiSwipe] Search query changed:\", value);\n\t\t\t\t\t\tsetSearchQuery(value);\n\t\t\t\t\t}}\n\t\t\t\t\tplaceholder=\"Search for Songs, Artists, or Genres\"\n\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\tvisibleFrom=\"xs\"\n\t\t\t\t\tw={{ base: \"30%\", xs: \"15%\", sm: \"20%\", md: \"30%\" }}\n\t\t\t\t/>\n\n\t\t\t\t<Group>\n\t\t\t\t\t<Group className={classes.links} gap={5} ml={50} visibleFrom=\"sm\">\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Group>\n\t\t\t\t</Group>\n\n\t\t\t\t<ColorSchemeToggle />\n\t\t\t</div>\n\t\t</header>\n\t);\n};\n\nexport default HeaderSearch;\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUA,MAAM,QAAQ;IACb;QAAE,MAAM;QAAU,OAAO;IAAW;IACpC;QAAE,MAAM;QAAc,OAAO;IAAY;CACzC;AAED,MAAM,eAAe;;IACpB,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,CAAC,GAAG,IAAA,wMAAa,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,eAAe,GAAG,IAAA,4NAAiB,EAAC,aAAa;IAExD,MAAM,EAAE,MAAM,aAAa,EAAE,GAAG,+HAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CACvD;QAAE,OAAO;QAAgB,OAAO;IAAG,GACnC;QACC,SAAS,eAAe,MAAM,GAAG;QACjC,sBAAsB;IACvB;IAGD,MAAM,mBACL,eAAe,IAAI,CAAC,QAAU,CAAC;YAC9B,OAAO,GAAG,MAAM,IAAI,CAAC,GAAG,EAAE,MAAM,MAAM,EAAE;YACxC,OAAO,GAAG,MAAM,IAAI,CAAC,GAAG,EAAE,MAAM,MAAM,EAAE;QACzC,CAAC,MAAM,EAAE;IAEV,uBAAuB;IACvB,MAAM,aAAa,MAAM,IAAI,CAC5B,IAAI,IAAI,iBAAiB,GAAG,CAAC,CAAC,OAAS;YAAC,KAAK,KAAK;YAAE;SAAK,GAAG,MAAM;IAGnE,MAAM,QAAQ,MAAM,GAAG,CAAC,CAAC,qBACxB,6LAAC;YACA,WAAW,uJAAO,CAAC,IAAI;YACvB,MAAM,KAAK,IAAI;YAEf,SAAS,CAAC,QAAU,MAAM,cAAc;sBAEvC,KAAK,KAAK;WAHN,KAAK,KAAK;;;;;IAOjB,qBACC,6LAAC;QAAO,WAAW,uJAAO,CAAC,MAAM;kBAChC,cAAA,6LAAC;YAAI,WAAW,uJAAO,CAAC,KAAK;;8BAC5B,6LAAC,qLAAK;;sCACL,6LAAC,wLAAM;4BAAC,YAAW;4BAAK,SAAS;4BAAQ,QAAQ;4BAAQ,MAAK;;;;;;sCAC9D,6LAAC,0PAAe;4BACf,OAAM;4BACN,MAAM;4BACN,QAAQ;;;;;;;;;;;;8BAIV,6LAAC,0MAAY;oBACZ,WAAW,uJAAO,CAAC,MAAM;oBACzB,MAAM,WAAW,GAAG,CAAC,CAAC,IAAM,EAAE,KAAK;oBACnC,2BAAa,6LAAC,2OAAU;wBAAC,MAAM;wBAAI,QAAQ;;;;;;oBAC3C,UAAU,CAAC;wBACV,QAAQ,KAAK,CAAC,sCAAsC;wBACpD,eAAe;oBAChB;oBACA,aAAY;oBACZ,OAAO;oBACP,aAAY;oBACZ,GAAG;wBAAE,MAAM;wBAAO,IAAI;wBAAO,IAAI;wBAAO,IAAI;oBAAM;;;;;;8BAGnD,6LAAC,qLAAK;8BACL,cAAA,6LAAC,qLAAK;wBAAC,WAAW,uJAAO,CAAC,KAAK;wBAAE,KAAK;wBAAG,IAAI;wBAAI,aAAY;kCAC3D;;;;;;;;;;;8BAIH,6LAAC,6JAAiB;;;;;;;;;;;;;;;;AAItB;GAvEM;;QACwB,wMAAa;QAEjB,4NAAiB;;;KAHrC;uCAyES"}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///Users/vietquocbui/repos/VsCode/vietbui1999ru/CodePath/Web/Web102/spotiswipe/src/app/_components/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport { NavLink } from \"@mantine/core\";\nimport {\n\tIconMusicCog,\n\tIconPlaylist,\n\tIconUsersGroup,\n} from \"@tabler/icons-react\";\nimport { usePathname } from \"next/navigation\";\n\nconst navItems = [\n\t{\n\t\thref: \"/dashboard\",\n\t\tlabel: \"Discover\",\n\t\ticon: IconMusicCog,\n\t},\n\t{\n\t\thref: \"/playlist\",\n\t\tlabel: \"Playlists\",\n\t\ticon: IconPlaylist,\n\t},\n\t{\n\t\thref: \"/shareboard\",\n\t\tlabel: \"Shareboard\",\n\t\ticon: IconUsersGroup,\n\t},\n];\n\nconst Navbar = () => {\n\tconst pathname = usePathname();\n\n\treturn (\n\t\t<>\n\t\t\t{navItems.map((item) => (\n\t\t\t\t<NavLink\n\t\t\t\t\tactive={pathname === item.href}\n\t\t\t\t\thref={item.href}\n\t\t\t\t\tkey={item.href}\n\t\t\t\t\tlabel={item.label}\n\t\t\t\t\tleftSection={<item.icon size=\"16\" stroke={1.5} />}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</>\n\t);\n};\n\nexport default Navbar;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAKA;;;AARA;;;;AAUA,MAAM,WAAW;IAChB;QACC,MAAM;QACN,OAAO;QACP,MAAM,iPAAY;IACnB;IACA;QACC,MAAM;QACN,OAAO;QACP,MAAM,iPAAY;IACnB;IACA;QACC,MAAM;QACN,OAAO;QACP,MAAM,uPAAc;IACrB;CACA;AAED,MAAM,SAAS;;IACd,MAAM,WAAW,IAAA,oJAAW;IAE5B,qBACC;kBACE,SAAS,GAAG,CAAC,CAAC,qBACd,6LAAC,2LAAO;gBACP,QAAQ,aAAa,KAAK,IAAI;gBAC9B,MAAM,KAAK,IAAI;gBAEf,OAAO,KAAK,KAAK;gBACjB,2BAAa,6LAAC,KAAK,IAAI;oBAAC,MAAK;oBAAK,QAAQ;;;;;;eAFrC,KAAK,IAAI;;;;;;AAOnB;GAhBM;;QACY,oJAAW;;;KADvB;uCAkBS"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/dashboard/dashboard.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"acceptButton\": \"dashboard-module__XABe8G__acceptButton\",\n  \"albumArt\": \"dashboard-module__XABe8G__albumArt\",\n  \"container\": \"dashboard-module__XABe8G__container\",\n  \"dashboardGrid\": \"dashboard-module__XABe8G__dashboardGrid\",\n  \"generateButton\": \"dashboard-module__XABe8G__generateButton\",\n  \"glassCard\": \"dashboard-module__XABe8G__glassCard\",\n  \"gradientControlControl\": \"dashboard-module__XABe8G__gradientControlControl\",\n  \"gradientControlIndicator\": \"dashboard-module__XABe8G__gradientControlIndicator\",\n  \"gradientControlLabel\": \"dashboard-module__XABe8G__gradientControlLabel\",\n  \"gradientControlRoot\": \"dashboard-module__XABe8G__gradientControlRoot\",\n  \"lyricContent\": \"dashboard-module__XABe8G__lyricContent\",\n  \"lyricLine\": \"dashboard-module__XABe8G__lyricLine\",\n  \"lyricLineHighlight\": \"dashboard-module__XABe8G__lyricLineHighlight\",\n  \"lyricLineNormal\": \"dashboard-module__XABe8G__lyricLineNormal\",\n  \"lyricsPanel\": \"dashboard-module__XABe8G__lyricsPanel\",\n  \"lyricsPanelContainer\": \"dashboard-module__XABe8G__lyricsPanelContainer\",\n  \"lyricsPanelHeader\": \"dashboard-module__XABe8G__lyricsPanelHeader\",\n  \"lyricsText\": \"dashboard-module__XABe8G__lyricsText\",\n  \"playButton\": \"dashboard-module__XABe8G__playButton\",\n  \"playerControls\": \"dashboard-module__XABe8G__playerControls\",\n  \"playlistContainer\": \"dashboard-module__XABe8G__playlistContainer\",\n  \"playlistHeader\": \"dashboard-module__XABe8G__playlistHeader\",\n  \"playlistScrollArea\": \"dashboard-module__XABe8G__playlistScrollArea\",\n  \"playlistTitle\": \"dashboard-module__XABe8G__playlistTitle\",\n  \"progressBar\": \"dashboard-module__XABe8G__progressBar\",\n  \"progressFill\": \"dashboard-module__XABe8G__progressFill\",\n  \"rejectButton\": \"dashboard-module__XABe8G__rejectButton\",\n  \"segmentedControl\": \"dashboard-module__XABe8G__segmentedControl\",\n  \"segmentedIndicator\": \"dashboard-module__XABe8G__segmentedIndicator\",\n  \"segmentedLabel\": \"dashboard-module__XABe8G__segmentedLabel\",\n  \"skipButton\": \"dashboard-module__XABe8G__skipButton\",\n  \"songArtist\": \"dashboard-module__XABe8G__songArtist\",\n  \"songItem\": \"dashboard-module__XABe8G__songItem\",\n  \"songItemContent\": \"dashboard-module__XABe8G__songItemContent\",\n  \"songTitle\": \"dashboard-module__XABe8G__songTitle\",\n  \"songsList\": \"dashboard-module__XABe8G__songsList\",\n  \"swipeButton\": \"dashboard-module__XABe8G__swipeButton\",\n  \"swipeControls\": \"dashboard-module__XABe8G__swipeControls\",\n  \"tabButton\": \"dashboard-module__XABe8G__tabButton\",\n  \"tabButtonActive\": \"dashboard-module__XABe8G__tabButtonActive\",\n  \"tabButtons\": \"dashboard-module__XABe8G__tabButtons\",\n  \"timeDisplay\": \"dashboard-module__XABe8G__timeDisplay\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":["file:///Users/vietquocbui/repos/VsCode/vietbui1999ru/CodePath/Web/Web102/spotiswipe/src/app/dashboard/_components/GradientSegmentedControl.tsx"],"sourcesContent":["import { SegmentedControl, type SegmentedControlProps } from \"@mantine/core\";\n\ntype GradientSegmentedControlProps = Pick<\n\tSegmentedControlProps,\n\t\"classNames\" | \"radius\" | \"size\" | \"data\" | \"value\" | \"onChange\"\n>;\n\nexport function GradientSegmentedControl({\n\tclassNames,\n\tradius,\n\tsize,\n\tdata,\n\tvalue,\n\tonChange,\n}: GradientSegmentedControlProps) {\n\treturn (\n\t\t<SegmentedControl\n\t\t\tclassNames={classNames}\n\t\t\tdata={data}\n\t\t\tonChange={onChange}\n\t\t\tradius={radius}\n\t\t\tsize={size}\n\t\t\tvalue={value}\n\t\t/>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAOO,SAAS,yBAAyB,EACxC,UAAU,EACV,MAAM,EACN,IAAI,EACJ,IAAI,EACJ,KAAK,EACL,QAAQ,EACuB;IAC/B,qBACC,6LAAC,sNAAgB;QAChB,YAAY;QACZ,MAAM;QACN,UAAU;QACV,QAAQ;QACR,MAAM;QACN,OAAO;;;;;;AAGV;KAlBgB"}},
    {"offset": {"line": 429, "column": 0}, "map": {"version":3,"sources":["file:///Users/vietquocbui/repos/VsCode/vietbui1999ru/CodePath/Web/Web102/spotiswipe/src/app/dashboard/_components/LyricsPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { Badge, Group, Loader, Stack, Text } from \"@mantine/core\";\nimport { IconHeart, IconMusic } from \"@tabler/icons-react\";\nimport { useEffect, useState } from \"react\";\nimport { api } from \"~/trpc/react\";\nimport styles from \"../dashboard.module.css\";\nimport { GradientSegmentedControl } from \"./GradientSegmentedControl\";\n\ninterface LyricsPanelProps {\n\tcurrentSong: { name: string; artist: string } | null;\n}\n\nconst LyricsPanel = ({ currentSong }: LyricsPanelProps) => {\n\tconst [activeTab, setActiveTab] = useState<string>(\"info\");\n\n\tconst {\n\t\tdata: trackInfo,\n\t\tisLoading: trackInfoLoading,\n\t\terror: trackInfoError,\n\t} = api.song.getInfo.useQuery(\n\t\t{ track: currentSong?.name ?? \"\", artist: currentSong?.artist ?? \"\" },\n\t\t{\n\t\t\tenabled: !!currentSong && activeTab === \"info\",\n\t\t\trefetchOnWindowFocus: false,\n\t\t},\n\t);\n\n\tconst { data: likedHistory, isLoading: historyLoading } =\n\t\tapi.swipe.getHistory.useQuery(\n\t\t\t{ action: \"liked\", limit: 10 },\n\t\t\t{\n\t\t\t\tenabled: activeTab === \"liked\",\n\t\t\t\trefetchOnWindowFocus: false,\n\t\t\t},\n\t\t);\n\n\tuseEffect(() => {\n\t\tconsole.debug(\"[SpotiSwipe] LyricsPanel mounted\");\n\t\treturn () => console.debug(\"[SpotiSwipe] LyricsPanel unmounted\");\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconsole.debug(\"[SpotiSwipe] LyricsPanel tab changed:\", activeTab);\n\t}, [activeTab]);\n\n\treturn (\n\t\t<div className={styles.lyricsPanelContainer}>\n\t\t\t{/* Header with Segmented Control */}\n\t\t\t<div className={styles.lyricsPanelHeader}>\n\t\t\t\t<GradientSegmentedControl\n\t\t\t\t\tclassNames={{\n\t\t\t\t\t\troot: styles.gradientControlRoot,\n\t\t\t\t\t\tindicator: styles.gradientControlIndicator,\n\t\t\t\t\t\tcontrol: styles.gradientControlControl,\n\t\t\t\t\t\tlabel: styles.gradientControlLabel,\n\t\t\t\t\t}}\n\t\t\t\t\tdata={[\n\t\t\t\t\t\t{ value: \"info\", label: \"Artist Info\" },\n\t\t\t\t\t\t{ value: \"liked\", label: \"Liked Songs\" },\n\t\t\t\t\t]}\n\t\t\t\t\tonChange={setActiveTab}\n\t\t\t\t\tradius=\"lg\"\n\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\tvalue={activeTab}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{/* Content Area */}\n\t\t\t{activeTab === \"info\" ? (\n\t\t\t\t<div className={styles.lyricContent}>\n\t\t\t\t\t{!currentSong ? (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"lg\" h=\"100%\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\tNo track selected -- start swiping to see track info\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : trackInfoLoading ? (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"lg\" h=\"100%\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Loader size=\"lg\" />\n\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\tLoading track info...\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : trackInfoError ? (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"lg\" h=\"100%\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Text c=\"red\" size=\"sm\">\n\t\t\t\t\t\t\t\t{trackInfoError.message}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : trackInfo ? (\n\t\t\t\t\t\t<Stack className={styles.lyricsText} gap=\"md\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Group gap=\"xs\" mb=\"xs\">\n\t\t\t\t\t\t\t\t\t<IconMusic size={18} />\n\t\t\t\t\t\t\t\t\t<Text fw={600}>Currently Viewing</Text>\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t\t<Text className={styles.lyricLineHighlight}>\n\t\t\t\t\t\t\t\t\t{trackInfo.name}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\t\tby {trackInfo.artist}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Track Stats */}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tborderTop: \"1px solid var(--mantine-color-gray-7)\",\n\t\t\t\t\t\t\t\t\tpaddingTop: \"12px\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Group gap=\"sm\" mb=\"sm\">\n\t\t\t\t\t\t\t\t\t<Badge variant=\"light\">\n\t\t\t\t\t\t\t\t\t\t{trackInfo.listeners.toLocaleString()} listeners\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t<Badge variant=\"light\">\n\t\t\t\t\t\t\t\t\t\t{trackInfo.playcount.toLocaleString()} plays\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t{trackInfo.loved && (\n\t\t\t\t\t\t\t\t\t\t<Badge color=\"red\" variant=\"light\">\n\t\t\t\t\t\t\t\t\t\t\tLoved\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Group>\n\n\t\t\t\t\t\t\t\t{trackInfo.album && (\n\t\t\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\t\t\tAlbum: {trackInfo.album.title}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{trackInfo.wiki && (\n\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\tc=\"dimmed\"\n\t\t\t\t\t\t\t\t\t\tlineClamp={4}\n\t\t\t\t\t\t\t\t\t\tmt=\"sm\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ lineHeight: 1.6 }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{trackInfo.wiki.replace(/<[^>]+>/g, \"\")}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{trackInfo.url && (\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={trackInfo.url}\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tstyle={{ textDecoration: \"none\" }}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={styles.generateButton}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\", marginTop: \"8px\" }}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tView on Last.fm\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"lg\" h=\"100%\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\tNo track data available\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t// Liked Songs View\n\t\t\t\t<div className={styles.lyricContent}>\n\t\t\t\t\t{historyLoading ? (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"lg\" h=\"100%\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Loader size=\"lg\" />\n\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\tLoading liked songs...\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : !likedHistory || likedHistory.items.length === 0 ? (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"lg\" h=\"100%\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\tNo liked songs yet -- start swiping!\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Stack gap=\"sm\">\n\t\t\t\t\t\t\t<Group gap=\"xs\" mb=\"xs\">\n\t\t\t\t\t\t\t\t<IconHeart color=\"rgb(34, 197, 94)\" size={18} />\n\t\t\t\t\t\t\t\t<Text fw={600} size=\"sm\">\n\t\t\t\t\t\t\t\t\t{likedHistory.items.length} recently liked\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t{likedHistory.items.map((item) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tpadding: \"0.5rem 0.75rem\",\n\t\t\t\t\t\t\t\t\t\tbackground: \"rgba(39, 39, 42, 0.6)\",\n\t\t\t\t\t\t\t\t\t\tborder: \"1px solid rgba(63, 63, 70, 0.5)\",\n\t\t\t\t\t\t\t\t\t\tborderRadius: \"0.5rem\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\tfw={500}\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"rgba(255,255,255,0.9)\" }}\n\t\t\t\t\t\t\t\t\t\ttruncate\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item.song.title}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"rgba(255,255,255,0.5)\" }}\n\t\t\t\t\t\t\t\t\t\ttruncate\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item.song.artist}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default LyricsPanel;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 932, "column": 0}, "map": {"version":3,"sources":["file:///Users/vietquocbui/repos/VsCode/vietbui1999ru/CodePath/Web/Web102/spotiswipe/src/app/dashboard/_components/PlayerCard.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n\tBadge,\n\tBox,\n\tButton,\n\tGroup,\n\tLoader,\n\tStack,\n\tText,\n\tTitle,\n\tTooltip,\n} from \"@mantine/core\";\nimport { IconCheck, IconHeart, IconRefresh, IconX } from \"@tabler/icons-react\";\nimport Image from \"next/image\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { api } from \"~/trpc/react\";\nimport styles from \"../dashboard.module.css\";\n\ninterface PlayerCardProps {\n\tactivePlaylistId: string | null;\n\tonSongChange?: (song: { name: string; artist: string } | null) => void;\n}\n\nconst PlayerCard = ({ activePlaylistId, onSongChange }: PlayerCardProps) => {\n\tconst [currentIndex, setCurrentIndex] = useState(0);\n\tconst [swipeDirection, setSwipeDirection] = useState<\n\t\t\"left\" | \"right\" | \"up\" | null\n\t>(null);\n\n\tconst {\n\t\tdata: feed,\n\t\tisLoading,\n\t\terror,\n\t\trefetch,\n\t} = api.swipe.getDiscoveryFeed.useQuery(\n\t\t{ limit: 20 },\n\t\t{\n\t\t\trefetchOnWindowFocus: false,\n\t\t},\n\t);\n\n\tconst utils = api.useUtils();\n\n\tconst recordSwipe = api.swipe.recordSwipe.useMutation({\n\t\tonSuccess: () => {\n\t\t\tconsole.debug(\"[SpotiSwipe] Swipe recorded successfully\");\n\t\t},\n\t\tonError: (err) => {\n\t\t\tconsole.error(\"[SpotiSwipe] Failed to record swipe:\", err.message);\n\t\t},\n\t});\n\n\tconst addSong = api.playlist.addSong.useMutation({\n\t\tonSuccess: () => {\n\t\t\tconsole.debug(\"[SpotiSwipe] Song added to playlist\");\n\t\t\tutils.playlist.getAll.invalidate();\n\t\t\tutils.playlist.getById.invalidate();\n\t\t},\n\t\tonError: (err) => {\n\t\t\tconsole.error(\n\t\t\t\t\"[SpotiSwipe] Failed to add song to playlist:\",\n\t\t\t\terr.message,\n\t\t\t);\n\t\t},\n\t});\n\n\tconst currentTrack = feed?.[currentIndex] ?? null;\n\n\tuseEffect(() => {\n\t\tconsole.debug(\"[SpotiSwipe] PlayerCard mounted\");\n\t\treturn () => console.debug(\"[SpotiSwipe] PlayerCard unmounted\");\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconsole.debug(\"[SpotiSwipe] Current song index changed:\", currentIndex);\n\t\tonSongChange?.(\n\t\t\tcurrentTrack\n\t\t\t\t? { name: currentTrack.name, artist: currentTrack.artist }\n\t\t\t\t: null,\n\t\t);\n\t}, [currentIndex, currentTrack, onSongChange]);\n\n\tconst advanceCard = useCallback(() => {\n\t\tsetTimeout(() => {\n\t\t\tsetCurrentIndex((prev) => prev + 1);\n\t\t\tsetSwipeDirection(null);\n\t\t}, 300);\n\t}, []);\n\n\tconst handleSwipe = useCallback(\n\t\t(action: \"liked\" | \"skipped\" | \"superliked\") => {\n\t\t\tif (!currentTrack) return;\n\n\t\t\tconsole.debug(\"[SpotiSwipe] Swipe action:\", action, currentTrack.name);\n\n\t\t\tsetSwipeDirection(\n\t\t\t\taction === \"skipped\"\n\t\t\t\t\t? \"left\"\n\t\t\t\t\t: action === \"superliked\"\n\t\t\t\t\t\t? \"up\"\n\t\t\t\t\t\t: \"right\",\n\t\t\t);\n\n\t\t\trecordSwipe.mutate({\n\t\t\t\tsongData: {\n\t\t\t\t\ttitle: currentTrack.name,\n\t\t\t\t\tartist: currentTrack.artist,\n\t\t\t\t\talbumArt: currentTrack.image ?? undefined,\n\t\t\t\t\tlastfmUrl: currentTrack.url,\n\t\t\t\t\texternalId: currentTrack.externalId,\n\t\t\t\t},\n\t\t\t\taction,\n\t\t\t});\n\n\t\t\tif ((action === \"liked\" || action === \"superliked\") && activePlaylistId) {\n\t\t\t\taddSong.mutate({\n\t\t\t\t\tplaylistId: activePlaylistId,\n\t\t\t\t\tsongData: {\n\t\t\t\t\t\ttitle: currentTrack.name,\n\t\t\t\t\t\tartist: currentTrack.artist,\n\t\t\t\t\t\talbumArt: currentTrack.image ?? undefined,\n\t\t\t\t\t\tlastfmUrl: currentTrack.url,\n\t\t\t\t\t\texternalId: currentTrack.externalId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tadvanceCard();\n\t\t},\n\t\t[currentTrack, activePlaylistId, recordSwipe, addSong, advanceCard],\n\t);\n\n\tconst handleRefresh = useCallback(() => {\n\t\tconsole.debug(\"[SpotiSwipe] Refreshing discovery feed\");\n\t\tsetCurrentIndex(0);\n\t\trefetch();\n\t}, [refetch]);\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<Box className={styles.glassCard} style={{ maxWidth: \"420px\" }}>\n\t\t\t\t<Stack align=\"center\" gap=\"lg\" h={500} justify=\"center\">\n\t\t\t\t\t<Loader size=\"lg\" />\n\t\t\t\t\t<Text c=\"dimmed\">Loading discovery feed...</Text>\n\t\t\t\t</Stack>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<Box className={styles.glassCard} style={{ maxWidth: \"420px\" }}>\n\t\t\t\t<Stack align=\"center\" gap=\"lg\" h={500} justify=\"center\">\n\t\t\t\t\t<Text c=\"red\">{error.message}</Text>\n\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\tMake sure your Last.fm account is connected and has scrobbles\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Button onClick={handleRefresh} variant=\"light\">\n\t\t\t\t\t\tTry Again\n\t\t\t\t\t</Button>\n\t\t\t\t</Stack>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (!feed || feed.length === 0 || !currentTrack) {\n\t\treturn (\n\t\t\t<Box className={styles.glassCard} style={{ maxWidth: \"420px\" }}>\n\t\t\t\t<Stack align=\"center\" gap=\"lg\" h={500} justify=\"center\">\n\t\t\t\t\t<Text c=\"dimmed\" size=\"lg\">\n\t\t\t\t\t\tNo more songs to discover\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\tCheck back later or refresh for new recommendations\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tleftSection={<IconRefresh size={16} />}\n\t\t\t\t\t\tonClick={handleRefresh}\n\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t>\n\t\t\t\t\t\tRefresh Feed\n\t\t\t\t\t</Button>\n\t\t\t\t</Stack>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tconst swipeTransform =\n\t\tswipeDirection === \"left\"\n\t\t\t? \"translateX(-150%) rotate(-20deg)\"\n\t\t\t: swipeDirection === \"right\"\n\t\t\t\t? \"translateX(150%) rotate(20deg)\"\n\t\t\t\t: swipeDirection === \"up\"\n\t\t\t\t\t? \"translateY(-150%) scale(1.1)\"\n\t\t\t\t\t: \"translateX(0)\";\n\n\treturn (\n\t\t<Box\n\t\t\tclassName={styles.glassCard}\n\t\t\tstyle={{\n\t\t\t\tmaxWidth: \"420px\",\n\t\t\t\ttransform: swipeTransform,\n\t\t\t\ttransition: \"transform 0.3s ease-out\",\n\t\t\t}}\n\t\t>\n\t\t\t{/* Album Art */}\n\t\t\t<div className={styles.albumArt}>\n\t\t\t\t{currentTrack.image ? (\n\t\t\t\t\t<Image\n\t\t\t\t\t\talt={`${currentTrack.name} by ${currentTrack.artist}`}\n\t\t\t\t\t\theight={400}\n\t\t\t\t\t\tpriority\n\t\t\t\t\t\tsrc={currentTrack.image}\n\t\t\t\t\t\twidth={400}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\theight: \"400px\",\n\t\t\t\t\t\t\tbackground: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text>No album art</Text>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Track Info */}\n\t\t\t<Stack align=\"center\" gap=\"xs\">\n\t\t\t\t<div style={{ width: \"100%\", overflow: \"hidden\", textAlign: \"center\" }}>\n\t\t\t\t\t<Title\n\t\t\t\t\t\torder={2}\n\t\t\t\t\t\tsize=\"h3\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginBottom: \"4px\",\n\t\t\t\t\t\t\twhiteSpace: \"nowrap\",\n\t\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\t\ttextOverflow: \"ellipsis\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{currentTrack.name}\n\t\t\t\t\t</Title>\n\t\t\t\t</div>\n\t\t\t\t<Text c=\"dimmed\" size=\"sm\" style={{ width: \"100%\" }} truncate>\n\t\t\t\t\t{currentTrack.artist}\n\t\t\t\t</Text>\n\t\t\t</Stack>\n\n\t\t\t{/* Card Counter */}\n\t\t\t<Group gap=\"xs\" justify=\"center\" mt=\"md\">\n\t\t\t\t<Badge variant=\"light\">\n\t\t\t\t\t{currentIndex + 1} / {feed.length}\n\t\t\t\t</Badge>\n\t\t\t\t{activePlaylistId && (\n\t\t\t\t\t<Tooltip label=\"Liked songs will be added to your active playlist\">\n\t\t\t\t\t\t<Badge color=\"green\" variant=\"light\">\n\t\t\t\t\t\t\tAuto-add ON\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)}\n\t\t\t</Group>\n\n\t\t\t{/* Track Link */}\n\t\t\t{currentTrack.url && (\n\t\t\t\t<Group justify=\"center\" mt=\"sm\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={currentTrack.url}\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\tstyle={{ textDecoration: \"none\" }}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text c=\"blue\" component=\"span\" size=\"sm\">\n\t\t\t\t\t\t\tView on Last.fm\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</a>\n\t\t\t\t</Group>\n\t\t\t)}\n\n\t\t\t{/* Swipe Controls */}\n\t\t\t<div className={styles.swipeControls} style={{ marginTop: \"auto\" }}>\n\t\t\t\t<button\n\t\t\t\t\tclassName={`${styles.swipeButton} ${styles.rejectButton}`}\n\t\t\t\t\tonClick={() => handleSwipe(\"skipped\")}\n\t\t\t\t\ttitle=\"Skip\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t>\n\t\t\t\t\t<IconX size={24} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName={`${styles.swipeButton}`}\n\t\t\t\t\tonClick={() => handleSwipe(\"superliked\")}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborderColor: \"rgba(236, 72, 153, 0.5)\",\n\t\t\t\t\t\tcolor: \"rgb(236, 72, 153)\",\n\t\t\t\t\t\tbackground: \"rgba(236, 72, 153, 0.05)\",\n\t\t\t\t\t}}\n\t\t\t\t\ttitle=\"Super Like\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t>\n\t\t\t\t\t<IconHeart size={24} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName={`${styles.swipeButton} ${styles.acceptButton}`}\n\t\t\t\t\tonClick={() => handleSwipe(\"liked\")}\n\t\t\t\t\ttitle=\"Like\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t>\n\t\t\t\t\t<IconCheck size={24} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Box>\n\t);\n};\n\nexport default PlayerCard;\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;AAjBA;;;;;;;AAwBA,MAAM,aAAa,CAAC,EAAE,gBAAgB,EAAE,YAAY,EAAmB;;IACtE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAElD;IAEF,MAAM,EACL,MAAM,IAAI,EACV,SAAS,EACT,KAAK,EACL,OAAO,EACP,GAAG,+HAAG,CAAC,KAAK,CAAC,gBAAgB,CAAC,QAAQ,CACtC;QAAE,OAAO;IAAG,GACZ;QACC,sBAAsB;IACvB;IAGD,MAAM,QAAQ,+HAAG,CAAC,QAAQ;IAE1B,MAAM,cAAc,+HAAG,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,CAAC;QACrD,SAAS;mDAAE;gBACV,QAAQ,KAAK,CAAC;YACf;;QACA,OAAO;mDAAE,CAAC;gBACT,QAAQ,KAAK,CAAC,wCAAwC,IAAI,OAAO;YAClE;;IACD;IAEA,MAAM,UAAU,+HAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC;QAChD,SAAS;+CAAE;gBACV,QAAQ,KAAK,CAAC;gBACd,MAAM,QAAQ,CAAC,MAAM,CAAC,UAAU;gBAChC,MAAM,QAAQ,CAAC,OAAO,CAAC,UAAU;YAClC;;QACA,OAAO;+CAAE,CAAC;gBACT,QAAQ,KAAK,CACZ,gDACA,IAAI,OAAO;YAEb;;IACD;IAEA,MAAM,eAAe,MAAM,CAAC,aAAa,IAAI;IAE7C,IAAA,0KAAS;gCAAC;YACT,QAAQ,KAAK,CAAC;YACd;wCAAO,IAAM,QAAQ,KAAK,CAAC;;QAC5B;+BAAG,EAAE;IAEL,IAAA,0KAAS;gCAAC;YACT,QAAQ,KAAK,CAAC,4CAA4C;YAC1D,eACC,eACG;gBAAE,MAAM,aAAa,IAAI;gBAAE,QAAQ,aAAa,MAAM;YAAC,IACvD;QAEL;+BAAG;QAAC;QAAc;QAAc;KAAa;IAE7C,MAAM,cAAc,IAAA,4KAAW;+CAAC;YAC/B;uDAAW;oBACV;+DAAgB,CAAC,OAAS,OAAO;;oBACjC,kBAAkB;gBACnB;sDAAG;QACJ;8CAAG,EAAE;IAEL,MAAM,cAAc,IAAA,4KAAW;+CAC9B,CAAC;YACA,IAAI,CAAC,cAAc;YAEnB,QAAQ,KAAK,CAAC,8BAA8B,QAAQ,aAAa,IAAI;YAErE,kBACC,WAAW,YACR,SACA,WAAW,eACV,OACA;YAGL,YAAY,MAAM,CAAC;gBAClB,UAAU;oBACT,OAAO,aAAa,IAAI;oBACxB,QAAQ,aAAa,MAAM;oBAC3B,UAAU,aAAa,KAAK,IAAI;oBAChC,WAAW,aAAa,GAAG;oBAC3B,YAAY,aAAa,UAAU;gBACpC;gBACA;YACD;YAEA,IAAI,CAAC,WAAW,WAAW,WAAW,YAAY,KAAK,kBAAkB;gBACxE,QAAQ,MAAM,CAAC;oBACd,YAAY;oBACZ,UAAU;wBACT,OAAO,aAAa,IAAI;wBACxB,QAAQ,aAAa,MAAM;wBAC3B,UAAU,aAAa,KAAK,IAAI;wBAChC,WAAW,aAAa,GAAG;wBAC3B,YAAY,aAAa,UAAU;oBACpC;gBACD;YACD;YAEA;QACD;8CACA;QAAC;QAAc;QAAkB;QAAa;QAAS;KAAY;IAGpE,MAAM,gBAAgB,IAAA,4KAAW;iDAAC;YACjC,QAAQ,KAAK,CAAC;YACd,gBAAgB;YAChB;QACD;gDAAG;QAAC;KAAQ;IAEZ,IAAI,WAAW;QACd,qBACC,6LAAC,yKAAG;YAAC,WAAW,8JAAM,CAAC,SAAS;YAAE,OAAO;gBAAE,UAAU;YAAQ;sBAC5D,cAAA,6LAAC,qLAAK;gBAAC,OAAM;gBAAS,KAAI;gBAAK,GAAG;gBAAK,SAAQ;;kCAC9C,6LAAC,wLAAM;wBAAC,MAAK;;;;;;kCACb,6LAAC,kLAAI;wBAAC,GAAE;kCAAS;;;;;;;;;;;;;;;;;IAIrB;IAEA,IAAI,OAAO;QACV,qBACC,6LAAC,yKAAG;YAAC,WAAW,8JAAM,CAAC,SAAS;YAAE,OAAO;gBAAE,UAAU;YAAQ;sBAC5D,cAAA,6LAAC,qLAAK;gBAAC,OAAM;gBAAS,KAAI;gBAAK,GAAG;gBAAK,SAAQ;;kCAC9C,6LAAC,kLAAI;wBAAC,GAAE;kCAAO,MAAM,OAAO;;;;;;kCAC5B,6LAAC,kLAAI;wBAAC,GAAE;wBAAS,MAAK;kCAAK;;;;;;kCAG3B,6LAAC,wLAAM;wBAAC,SAAS;wBAAe,SAAQ;kCAAQ;;;;;;;;;;;;;;;;;IAMpD;IAEA,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,KAAK,CAAC,cAAc;QAChD,qBACC,6LAAC,yKAAG;YAAC,WAAW,8JAAM,CAAC,SAAS;YAAE,OAAO;gBAAE,UAAU;YAAQ;sBAC5D,cAAA,6LAAC,qLAAK;gBAAC,OAAM;gBAAS,KAAI;gBAAK,GAAG;gBAAK,SAAQ;;kCAC9C,6LAAC,kLAAI;wBAAC,GAAE;wBAAS,MAAK;kCAAK;;;;;;kCAG3B,6LAAC,kLAAI;wBAAC,GAAE;wBAAS,MAAK;kCAAK;;;;;;kCAG3B,6LAAC,wLAAM;wBACN,2BAAa,6LAAC,8OAAW;4BAAC,MAAM;;;;;;wBAChC,SAAS;wBACT,SAAQ;kCACR;;;;;;;;;;;;;;;;;IAML;IAEA,MAAM,iBACL,mBAAmB,SAChB,qCACA,mBAAmB,UAClB,mCACA,mBAAmB,OAClB,iCACA;IAEN,qBACC,6LAAC,yKAAG;QACH,WAAW,8JAAM,CAAC,SAAS;QAC3B,OAAO;YACN,UAAU;YACV,WAAW;YACX,YAAY;QACb;;0BAGA,6LAAC;gBAAI,WAAW,8JAAM,CAAC,QAAQ;0BAC7B,aAAa,KAAK,iBAClB,6LAAC,2IAAK;oBACL,KAAK,GAAG,aAAa,IAAI,CAAC,IAAI,EAAE,aAAa,MAAM,EAAE;oBACrD,QAAQ;oBACR,QAAQ;oBACR,KAAK,aAAa,KAAK;oBACvB,OAAO;;;;;6EAGR,6LAAC;oBACA,OAAO;wBACN,OAAO;wBACP,QAAQ;wBACR,YAAY;wBACZ,SAAS;wBACT,YAAY;wBACZ,gBAAgB;wBAChB,OAAO;oBACR;8BAEA,cAAA,6LAAC,kLAAI;kCAAC;;;;;;;;;;;;;;;;0BAMT,6LAAC,qLAAK;gBAAC,OAAM;gBAAS,KAAI;;kCACzB,6LAAC;wBAAI,OAAO;4BAAE,OAAO;4BAAQ,UAAU;4BAAU,WAAW;wBAAS;kCACpE,cAAA,6LAAC,qLAAK;4BACL,OAAO;4BACP,MAAK;4BACL,OAAO;gCACN,cAAc;gCACd,YAAY;gCACZ,UAAU;gCACV,cAAc;4BACf;sCAEC,aAAa,IAAI;;;;;;;;;;;kCAGpB,6LAAC,kLAAI;wBAAC,GAAE;wBAAS,MAAK;wBAAK,OAAO;4BAAE,OAAO;wBAAO;wBAAG,QAAQ;kCAC3D,aAAa,MAAM;;;;;;;;;;;;0BAKtB,6LAAC,qLAAK;gBAAC,KAAI;gBAAK,SAAQ;gBAAS,IAAG;;kCACnC,6LAAC,qLAAK;wBAAC,SAAQ;;4BACb,eAAe;4BAAE;4BAAI,KAAK,MAAM;;;;;;;oBAEjC,kCACA,6LAAC,2LAAO;wBAAC,OAAM;kCACd,cAAA,6LAAC,qLAAK;4BAAC,OAAM;4BAAQ,SAAQ;sCAAQ;;;;;;;;;;;;;;;;;YAQvC,aAAa,GAAG,kBAChB,6LAAC,qLAAK;gBAAC,SAAQ;gBAAS,IAAG;0BAC1B,cAAA,6LAAC;oBACA,MAAM,aAAa,GAAG;oBACtB,KAAI;oBACJ,OAAO;wBAAE,gBAAgB;oBAAO;oBAChC,QAAO;8BAEP,cAAA,6LAAC,kLAAI;wBAAC,GAAE;wBAAO,WAAU;wBAAO,MAAK;kCAAK;;;;;;;;;;;;;;;;0BAQ7C,6LAAC;gBAAI,WAAW,8JAAM,CAAC,aAAa;gBAAE,OAAO;oBAAE,WAAW;gBAAO;;kCAChE,6LAAC;wBACA,WAAW,GAAG,8JAAM,CAAC,WAAW,CAAC,CAAC,EAAE,8JAAM,CAAC,YAAY,EAAE;wBACzD,SAAS,IAAM,YAAY;wBAC3B,OAAM;wBACN,MAAK;kCAEL,cAAA,6LAAC,4NAAK;4BAAC,MAAM;;;;;;;;;;;kCAEd,6LAAC;wBACA,WAAW,GAAG,8JAAM,CAAC,WAAW,EAAE;wBAClC,SAAS,IAAM,YAAY;wBAC3B,OAAO;4BACN,aAAa;4BACb,OAAO;4BACP,YAAY;wBACb;wBACA,OAAM;wBACN,MAAK;kCAEL,cAAA,6LAAC,wOAAS;4BAAC,MAAM;;;;;;;;;;;kCAElB,6LAAC;wBACA,WAAW,GAAG,8JAAM,CAAC,WAAW,CAAC,CAAC,EAAE,8JAAM,CAAC,YAAY,EAAE;wBACzD,SAAS,IAAM,YAAY;wBAC3B,OAAM;wBACN,MAAK;kCAEL,cAAA,6LAAC,wOAAS;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKtB;GAtSM;;QAkBS,+HAAG,CAAC;;;KAlBb;uCAwSS"}},
    {"offset": {"line": 1482, "column": 0}, "map": {"version":3,"sources":["file:///Users/vietquocbui/repos/VsCode/vietbui1999ru/CodePath/Web/Web102/spotiswipe/src/app/dashboard/_components/PlaylistStack.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n\tButton,\n\tGroup,\n\tLoader,\n\tModal,\n\tScrollArea,\n\tStack,\n\tText,\n\tTextarea,\n\tTextInput,\n} from \"@mantine/core\";\nimport { useDisclosure } from \"@mantine/hooks\";\nimport { IconPlus } from \"@tabler/icons-react\";\nimport { useEffect, useState } from \"react\";\nimport { api } from \"~/trpc/react\";\nimport styles from \"../dashboard.module.css\";\n\ninterface PlaylistStackProps {\n\tactivePlaylistId: string | null;\n\tonSetActivePlaylist: (id: string | null) => void;\n}\n\nconst PlaylistStack = ({\n\tactivePlaylistId,\n\tonSetActivePlaylist,\n}: PlaylistStackProps) => {\n\tconst [\n\t\tcreateModalOpened,\n\t\t{ open: openCreateModal, close: closeCreateModal },\n\t] = useDisclosure(false);\n\tconst [newPlaylistName, setNewPlaylistName] = useState(\"\");\n\tconst [newPlaylistDescription, setNewPlaylistDescription] = useState(\"\");\n\n\tconst {\n\t\tdata: playlists,\n\t\tisLoading,\n\t\terror,\n\t} = api.playlist.getAll.useQuery(undefined, {\n\t\trefetchOnWindowFocus: false,\n\t});\n\n\tconst utils = api.useUtils();\n\n\tconst createPlaylist = api.playlist.create.useMutation({\n\t\tonSuccess: (newPlaylist) => {\n\t\t\tconsole.debug(\"[SpotiSwipe] Playlist created:\", newPlaylist.name);\n\t\t\tutils.playlist.getAll.invalidate();\n\t\t\tcloseCreateModal();\n\t\t\tsetNewPlaylistName(\"\");\n\t\t\tsetNewPlaylistDescription(\"\");\n\t\t\tonSetActivePlaylist(newPlaylist.id);\n\t\t},\n\t\tonError: (err) => {\n\t\t\tconsole.error(\"[SpotiSwipe] Failed to create playlist:\", err.message);\n\t\t},\n\t});\n\n\tuseEffect(() => {\n\t\tconsole.debug(\"[SpotiSwipe] PlaylistStack mounted\");\n\t\treturn () => console.debug(\"[SpotiSwipe] PlaylistStack unmounted\");\n\t}, []);\n\n\t// Auto-select first playlist if none is active\n\tuseEffect(() => {\n\t\tif (!activePlaylistId && playlists && playlists.length > 0) {\n\t\t\tconsole.debug(\n\t\t\t\t\"[SpotiSwipe] Auto-selecting first playlist:\",\n\t\t\t\tplaylists[0]?.name,\n\t\t\t);\n\t\t\tonSetActivePlaylist(playlists[0]?.id ?? null);\n\t\t}\n\t}, [playlists, activePlaylistId, onSetActivePlaylist]);\n\n\tconst handleCreatePlaylist = () => {\n\t\tif (!newPlaylistName.trim()) return;\n\t\tconsole.debug(\"[SpotiSwipe] Creating playlist:\", newPlaylistName);\n\t\tcreatePlaylist.mutate({\n\t\t\tname: newPlaylistName.trim(),\n\t\t\tdescription: newPlaylistDescription.trim() || undefined,\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className={styles.playlistContainer}>\n\t\t\t\t{/* Playlist Header */}\n\t\t\t\t<div className={styles.playlistHeader}>\n\t\t\t\t\t<Group justify=\"space-between\" w=\"100%\">\n\t\t\t\t\t\t<Text className={styles.playlistTitle}>My Playlists</Text>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tleftSection={<IconPlus size={14} />}\n\t\t\t\t\t\t\tonClick={openCreateModal}\n\t\t\t\t\t\t\tsize=\"compact-xs\"\n\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNew\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Group>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Playlists List */}\n\t\t\t\t<ScrollArea className={styles.playlistScrollArea}>\n\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"sm\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Loader size=\"sm\" />\n\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\tLoading playlists...\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : error ? (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"sm\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Text c=\"red\" size=\"sm\">\n\t\t\t\t\t\t\t\t{error.message}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"xs\">\n\t\t\t\t\t\t\t\tMake sure you are signed in\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : !playlists || playlists.length === 0 ? (\n\t\t\t\t\t\t<Stack align=\"center\" gap=\"sm\" justify=\"center\" p=\"md\">\n\t\t\t\t\t\t\t<Text c=\"dimmed\" size=\"sm\">\n\t\t\t\t\t\t\t\tNo playlists yet\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={openCreateModal}\n\t\t\t\t\t\t\t\tsize=\"compact-sm\"\n\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCreate your first playlist\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Stack className={styles.songsList} gap=\"sm\">\n\t\t\t\t\t\t\t{playlists.map((playlist) => (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={styles.songItem}\n\t\t\t\t\t\t\t\t\tkey={playlist.id}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tconsole.debug(\n\t\t\t\t\t\t\t\t\t\t\t\"[SpotiSwipe] Active playlist changed:\",\n\t\t\t\t\t\t\t\t\t\t\tplaylist.name,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tonSetActivePlaylist(\n\t\t\t\t\t\t\t\t\t\t\tactivePlaylistId === playlist.id ? null : playlist.id,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tborderColor:\n\t\t\t\t\t\t\t\t\t\t\tactivePlaylistId === playlist.id\n\t\t\t\t\t\t\t\t\t\t\t\t? \"rgba(34, 197, 94, 0.6)\"\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\tactivePlaylistId === playlist.id\n\t\t\t\t\t\t\t\t\t\t\t\t? \"rgba(34, 197, 94, 0.1)\"\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttitle={`${playlist.name} (${playlist.songCount} songs)`}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className={styles.songItemContent}>\n\t\t\t\t\t\t\t\t\t\t<Group gap={0} justify=\"space-between\" w=\"100%\">\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ flex: 1, minWidth: 0 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Text className={styles.songTitle} truncate>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{playlist.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t\t\t<Text className={styles.songArtist} truncate>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{playlist.songCount} songs\n\t\t\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{activePlaylistId === playlist.id && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\t\t\t\tc=\"green\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twhiteSpace: \"nowrap\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: \"8px\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tActive\n\t\t\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t)}\n\t\t\t\t</ScrollArea>\n\t\t\t</div>\n\n\t\t\t{/* Create Playlist Modal */}\n\t\t\t<Modal\n\t\t\t\tcentered\n\t\t\t\tonClose={closeCreateModal}\n\t\t\t\topened={createModalOpened}\n\t\t\t\ttitle=\"Create New Playlist\"\n\t\t\t>\n\t\t\t\t<Stack gap=\"md\">\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tlabel=\"Playlist Name\"\n\t\t\t\t\t\tonChange={(e) => setNewPlaylistName(e.currentTarget.value)}\n\t\t\t\t\t\tplaceholder=\"My awesome playlist\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={newPlaylistName}\n\t\t\t\t\t/>\n\t\t\t\t\t<Textarea\n\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\tonChange={(e) => setNewPlaylistDescription(e.currentTarget.value)}\n\t\t\t\t\t\tplaceholder=\"What is this playlist about?\"\n\t\t\t\t\t\tvalue={newPlaylistDescription}\n\t\t\t\t\t/>\n\t\t\t\t\t<Group justify=\"flex-end\">\n\t\t\t\t\t\t<Button onClick={closeCreateModal} variant=\"subtle\">\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={!newPlaylistName.trim()}\n\t\t\t\t\t\t\tloading={createPlaylist.isPending}\n\t\t\t\t\t\t\tonClick={handleCreatePlaylist}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCreate\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Group>\n\t\t\t\t</Stack>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default PlaylistStack;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1888, "column": 0}, "map": {"version":3,"sources":["file:///Users/vietquocbui/repos/VsCode/vietbui1999ru/CodePath/Web/Web102/spotiswipe/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { AppShell, Box } from \"@mantine/core\";\nimport { useDisclosure } from \"@mantine/hooks\";\nimport { useCallback, useState } from \"react\";\nimport HeaderSearch from \"../_components/HeaderSearch\";\nimport Navbar from \"../_components/Navbar\";\nimport LyricsPanel from \"./_components/LyricsPanel\";\nimport PlayerCard from \"./_components/PlayerCard\";\nimport PlaylistStack from \"./_components/PlaylistStack\";\nimport styles from \"./dashboard.module.css\";\n\nconst Dashboard = () => {\n\tconst [opened] = useDisclosure();\n\tconst [activePlaylistId, setActivePlaylistId] = useState<string | null>(null);\n\tconst [currentSong, setCurrentSong] = useState<{\n\t\tname: string;\n\t\tartist: string;\n\t} | null>(null);\n\n\tconst handleSongChange = useCallback(\n\t\t(song: { name: string; artist: string } | null) => {\n\t\t\tconsole.debug(\"[SpotiSwipe] Dashboard currentSong changed:\", song);\n\t\t\tsetCurrentSong(song);\n\t\t},\n\t\t[],\n\t);\n\n\tconst handleSetActivePlaylist = useCallback((id: string | null) => {\n\t\tconsole.debug(\"[SpotiSwipe] Dashboard activePlaylistId changed:\", id);\n\t\tsetActivePlaylistId(id);\n\t}, []);\n\n\treturn (\n\t\t<AppShell\n\t\t\theader={{ height: 60 }}\n\t\t\tnavbar={{ width: 260, breakpoint: \"sm\", collapsed: { mobile: !opened } }}\n\t\t\tpadding=\"md\"\n\t\t>\n\t\t\t<AppShell.Header>\n\t\t\t\t<HeaderSearch />\n\t\t\t</AppShell.Header>\n\n\t\t\t<AppShell.Navbar p=\"md\">\n\t\t\t\t<Navbar />\n\t\t\t</AppShell.Navbar>\n\n\t\t\t<AppShell.Main>\n\t\t\t\t<Box className={styles.container}>\n\t\t\t\t\t<div className={styles.dashboardGrid}>\n\t\t\t\t\t\t{/* Left: Playlist Stack */}\n\t\t\t\t\t\t<PlaylistStack\n\t\t\t\t\t\t\tactivePlaylistId={activePlaylistId}\n\t\t\t\t\t\t\tonSetActivePlaylist={handleSetActivePlaylist}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Center: Player Card */}\n\t\t\t\t\t\t<PlayerCard\n\t\t\t\t\t\t\tactivePlaylistId={activePlaylistId}\n\t\t\t\t\t\t\tonSongChange={handleSongChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Right: Info/Liked Panel */}\n\t\t\t\t\t\t<LyricsPanel currentSong={currentSong} />\n\t\t\t\t\t</div>\n\t\t\t\t</Box>\n\t\t\t</AppShell.Main>\n\t\t</AppShell>\n\t);\n};\n\nexport default Dashboard;\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAVA;;;;;;;;;;AAYA,MAAM,YAAY;;IACjB,MAAM,CAAC,OAAO,GAAG,IAAA,wMAAa;IAC9B,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAgB;IACxE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAGpC;IAEV,MAAM,mBAAmB,IAAA,4KAAW;mDACnC,CAAC;YACA,QAAQ,KAAK,CAAC,+CAA+C;YAC7D,eAAe;QAChB;kDACA,EAAE;IAGH,MAAM,0BAA0B,IAAA,4KAAW;0DAAC,CAAC;YAC5C,QAAQ,KAAK,CAAC,oDAAoD;YAClE,oBAAoB;QACrB;yDAAG,EAAE;IAEL,qBACC,6LAAC,8LAAQ;QACR,QAAQ;YAAE,QAAQ;QAAG;QACrB,QAAQ;YAAE,OAAO;YAAK,YAAY;YAAM,WAAW;gBAAE,QAAQ,CAAC;YAAO;QAAE;QACvE,SAAQ;;0BAER,6LAAC,8LAAQ,CAAC,MAAM;0BACf,cAAA,6LAAC,wJAAY;;;;;;;;;;0BAGd,6LAAC,8LAAQ,CAAC,MAAM;gBAAC,GAAE;0BAClB,cAAA,6LAAC,kJAAM;;;;;;;;;;0BAGR,6LAAC,8LAAQ,CAAC,IAAI;0BACb,cAAA,6LAAC,yKAAG;oBAAC,WAAW,8JAAM,CAAC,SAAS;8BAC/B,cAAA,6LAAC;wBAAI,WAAW,8JAAM,CAAC,aAAa;;0CAEnC,6LAAC,sKAAa;gCACb,kBAAkB;gCAClB,qBAAqB;;;;;;0CAItB,6LAAC,mKAAU;gCACV,kBAAkB;gCAClB,cAAc;;;;;;0CAIf,6LAAC,oKAAW;gCAAC,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhC;GAzDM;;QACY,wMAAa;;;KADzB;uCA2DS"}}]
}