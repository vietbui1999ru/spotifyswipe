module.exports=[50694,a=>{a.v({acceptButton:"dashboard-module__XABe8G__acceptButton",albumArt:"dashboard-module__XABe8G__albumArt",container:"dashboard-module__XABe8G__container",dashboardGrid:"dashboard-module__XABe8G__dashboardGrid",generateButton:"dashboard-module__XABe8G__generateButton",glassCard:"dashboard-module__XABe8G__glassCard",gradientControlControl:"dashboard-module__XABe8G__gradientControlControl",gradientControlIndicator:"dashboard-module__XABe8G__gradientControlIndicator",gradientControlLabel:"dashboard-module__XABe8G__gradientControlLabel",gradientControlRoot:"dashboard-module__XABe8G__gradientControlRoot",lyricContent:"dashboard-module__XABe8G__lyricContent",lyricLine:"dashboard-module__XABe8G__lyricLine",lyricLineHighlight:"dashboard-module__XABe8G__lyricLineHighlight",lyricLineNormal:"dashboard-module__XABe8G__lyricLineNormal",lyricsPanel:"dashboard-module__XABe8G__lyricsPanel",lyricsPanelContainer:"dashboard-module__XABe8G__lyricsPanelContainer",lyricsPanelHeader:"dashboard-module__XABe8G__lyricsPanelHeader",lyricsText:"dashboard-module__XABe8G__lyricsText",playButton:"dashboard-module__XABe8G__playButton",playerControls:"dashboard-module__XABe8G__playerControls",playlistContainer:"dashboard-module__XABe8G__playlistContainer",playlistHeader:"dashboard-module__XABe8G__playlistHeader",playlistScrollArea:"dashboard-module__XABe8G__playlistScrollArea",playlistTitle:"dashboard-module__XABe8G__playlistTitle",progressBar:"dashboard-module__XABe8G__progressBar",progressFill:"dashboard-module__XABe8G__progressFill",rejectButton:"dashboard-module__XABe8G__rejectButton",segmentedControl:"dashboard-module__XABe8G__segmentedControl",segmentedIndicator:"dashboard-module__XABe8G__segmentedIndicator",segmentedLabel:"dashboard-module__XABe8G__segmentedLabel",skipButton:"dashboard-module__XABe8G__skipButton",songArtist:"dashboard-module__XABe8G__songArtist",songItem:"dashboard-module__XABe8G__songItem",songItemContent:"dashboard-module__XABe8G__songItemContent",songTitle:"dashboard-module__XABe8G__songTitle",songsList:"dashboard-module__XABe8G__songsList",swipeButton:"dashboard-module__XABe8G__swipeButton",swipeControls:"dashboard-module__XABe8G__swipeControls",tabButton:"dashboard-module__XABe8G__tabButton",tabButtonActive:"dashboard-module__XABe8G__tabButtonActive",tabButtons:"dashboard-module__XABe8G__tabButtons",timeDisplay:"dashboard-module__XABe8G__timeDisplay"})},49846,a=>{"use strict";var b=a.i(87924),c=a.i(45458),d=a.i(95667),e=a.i(87740),f=a.i(60579),g=a.i(87552),h=a.i(72131),i=a.i(61478),j=a.i(59495),k=a.i(98621),l=a.i(94020),m=a.i(36387),n=a.i(96011),o={root:"m_6d731127"};let p={gap:"md",align:"stretch",justify:"flex-start"},q=(0,j.createVarsResolver)((a,{gap:b,align:c,justify:d})=>({root:{"--stack-gap":(0,i.getSpacing)(b),"--stack-align":c,"--stack-justify":d}})),r=(0,n.factory)((a,c)=>{let e=(0,l.useProps)("Stack",p,a),{classNames:f,className:g,style:h,styles:i,unstyled:j,vars:k,align:n,justify:r,gap:s,variant:t,attributes:u,...v}=e,w=(0,m.useStyles)({name:"Stack",props:e,classes:o,className:g,style:h,classNames:f,styles:i,unstyled:j,attributes:u,vars:k,varsResolver:q});return(0,b.jsx)(d.Box,{ref:c,...w("root"),variant:t,...v})});r.classes=o,r.displayName="@mantine/core/Stack";var s=a.i(44326);let t=["h1","h2","h3","h4","h5","h6"],u=["xs","sm","md","lg","xl"];var v={root:"m_8a5d1357"};let w={order:1},x=(0,j.createVarsResolver)((a,{order:b,size:c,lineClamp:d,textWrap:e})=>{var f;let g,h=(f=b||1,g=void 0!==c?c:`h${f}`,t.includes(g)?{fontSize:`var(--mantine-${g}-font-size)`,fontWeight:`var(--mantine-${g}-font-weight)`,lineHeight:`var(--mantine-${g}-line-height)`}:u.includes(g)?{fontSize:`var(--mantine-font-size-${g})`,fontWeight:`var(--mantine-h${f}-font-weight)`,lineHeight:`var(--mantine-h${f}-line-height)`}:{fontSize:(0,s.rem)(g),fontWeight:`var(--mantine-h${f}-font-weight)`,lineHeight:`var(--mantine-h${f}-line-height)`});return{root:{"--title-fw":h.fontWeight,"--title-lh":h.lineHeight,"--title-fz":h.fontSize,"--title-line-clamp":"number"==typeof d?d.toString():void 0,"--title-text-wrap":e}}}),y=(0,n.factory)((a,c)=>{let e=(0,l.useProps)("Title",w,a),{classNames:f,className:g,style:h,styles:i,unstyled:j,order:k,vars:n,size:o,variant:p,lineClamp:q,textWrap:r,mod:s,attributes:t,...u}=e,y=(0,m.useStyles)({name:"Title",props:e,classes:v,className:g,style:h,classNames:f,styles:i,unstyled:j,attributes:t,vars:n,varsResolver:x});return[1,2,3,4,5,6].includes(k)?(0,b.jsx)(d.Box,{...y("root"),component:`h${k}`,variant:p,ref:c,mod:[{order:k,"data-line-clamp":"number"==typeof q},s],size:o,...u}):null});y.classes=v,y.displayName="@mantine/core/Title";var z=a.i(81577),A=a.i(87323),B=a.i(51014),C=a.i(74731),D=a.i(48011),E={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};let F=(0,j.createVarsResolver)((a,{radius:b,color:c,gradient:d,variant:e,size:f,autoContrast:g,circle:h})=>{let j=a.variantColorResolver({color:c||a.primaryColor,theme:a,gradient:d,variant:e||"filled",autoContrast:g});return{root:{"--badge-height":(0,i.getSize)(f,"badge-height"),"--badge-padding-x":(0,i.getSize)(f,"badge-padding-x"),"--badge-fz":(0,i.getSize)(f,"badge-fz"),"--badge-radius":h||void 0===b?void 0:(0,i.getRadius)(b),"--badge-bg":c||e?j.background:void 0,"--badge-color":c||e?j.color:void 0,"--badge-bd":c||e?j.border:void 0,"--badge-dot-color":"dot"===e?(0,C.getThemeColor)(c,a):void 0}}}),G=(0,D.polymorphicFactory)((a,c)=>{let e=(0,l.useProps)("Badge",null,a),{classNames:f,className:g,style:h,styles:i,unstyled:j,vars:k,radius:n,color:o,gradient:p,leftSection:q,rightSection:r,children:s,variant:t,fullWidth:u,autoContrast:v,circle:w,mod:x,attributes:y,...z}=e,A=(0,m.useStyles)({name:"Badge",props:e,classes:E,className:g,style:h,classNames:f,styles:i,unstyled:j,attributes:y,vars:k,varsResolver:F});return(0,b.jsxs)(d.Box,{variant:t,mod:[{block:u,circle:w,"with-right-section":!!r,"with-left-section":!!q},x],...A("root",{variant:t}),ref:c,...z,children:[q&&(0,b.jsx)("span",{...A("section"),"data-position":"left",children:q}),(0,b.jsx)("span",{...A("label"),children:s}),r&&(0,b.jsx)("span",{...A("section"),"data-position":"right",children:r})]})});G.classes=E,G.displayName="@mantine/core/Badge";var H=a.i(77483),I=a.i(65268),J=a.i(9833),K=a.i(64501),L=a.i(40567),M=a.i(90778),N=a.i(97588),O=a.i(28535),P=a.i(48357);let Q={duration:100,transition:"fade"};function R(a,b){return{...Q,...b,...a}}var S={tooltip:"m_1b3c8819",arrow:"m_f898399f"},T=a.i(64438),U=a.i(19235),V=a.i(81187),W=a.i(90442),X=a.i(26476);let Y={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:(0,I.getDefaultZIndex)("popover")},Z=(0,j.createVarsResolver)((a,{radius:b,color:c})=>({tooltip:{"--tooltip-radius":void 0===b?void 0:(0,i.getRadius)(b),"--tooltip-bg":c?(0,C.getThemeColor)(c,a):void 0,"--tooltip-color":c?"var(--mantine-color-white)":void 0}})),$=(0,n.factory)((a,c)=>{let e=(0,l.useProps)("TooltipFloating",Y,a),{children:f,refProp:g,withinPortal:i,style:j,className:k,classNames:n,styles:o,unstyled:p,radius:q,color:r,label:s,offset:t,position:u,multiline:v,zIndex:w,disabled:x,defaultOpened:y,variant:z,vars:A,portalProps:B,attributes:C,...D}=e,E=(0,T.useMantineTheme)(),F=(0,m.useStyles)({name:"TooltipFloating",props:e,classes:S,className:k,style:j,classNames:n,styles:o,unstyled:p,attributes:C,rootSelector:"tooltip",vars:A,varsResolver:Z}),{handleMouseMove:G,x:I,y:L,opened:M,boundaryRef:N,floating:P,setOpened:Q}=function({offset:a,position:b,defaultOpened:c}){let[d,e]=(0,h.useState)(c),f=(0,h.useRef)(null),{x:g,y:i,elements:j,refs:k,update:l,placement:m}=(0,V.useFloating)({placement:b,middleware:[(0,W.shift)({crossAxis:!0,padding:5,rootBoundary:"document"})]}),n=m.includes("right")?a:b.includes("left")?-1*a:0,o=m.includes("bottom")?a:b.includes("top")?-1*a:0,p=(0,h.useCallback)(({clientX:a,clientY:b})=>{k.setPositionReference({getBoundingClientRect:()=>({width:0,height:0,x:a,y:b,left:a+n,top:b+o,right:a,bottom:b})})},[j.reference]);return(0,h.useEffect)(()=>{if(k.floating.current){let a=f.current;a.addEventListener("mousemove",p);let b=(0,X.getOverflowAncestors)(k.floating.current);return b.forEach(a=>{a.addEventListener("scroll",l)}),()=>{a.removeEventListener("mousemove",p),b.forEach(a=>{a.removeEventListener("scroll",l)})}}},[j.reference,k.floating.current,l,p,d]),{handleMouseMove:p,x:g,y:i,opened:d,setOpened:e,boundaryRef:f,floating:k.setFloating}}({offset:t,position:u,defaultOpened:y}),R=(0,K.getSingleElementChild)(f);if(!R)throw Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");let $=(0,H.useMergedRef)(N,(0,J.getRefProp)(R),c),_=R.props;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.OptionalPortal,{...B,withinPortal:i,children:(0,b.jsx)(d.Box,{...D,...F("tooltip",{style:{...(0,U.getStyleObject)(j,E),zIndex:w,display:!x&&M?"block":"none",top:(L&&Math.round(L))??"",left:(I&&Math.round(I))??""}}),variant:z,ref:P,mod:{multiline:v},children:s})}),(0,h.cloneElement)(R,{..._,[g]:$,onMouseEnter:a=>{_.onMouseEnter?.(a),G(a),Q(!0)},onMouseLeave:a=>{_.onMouseLeave?.(a),Q(!1)}})]})});$.classes=S,$.displayName="@mantine/core/TooltipFloating";let _=(0,h.createContext)(!1),aa=_.Provider,ab={openDelay:0,closeDelay:0};function ac(a){let{openDelay:c,closeDelay:d,children:e}=(0,l.useProps)("TooltipGroup",ab,a);return(0,b.jsx)(aa,{value:!0,children:(0,b.jsx)(V.FloatingDelayGroup,{delay:{open:c,close:d},children:e})})}ac.displayName="@mantine/core/TooltipGroup",ac.extend=a=>a;var ad=a.i(94417),ae=a.i(86271),af=a.i(68037);let ag={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:(0,I.getDefaultZIndex)("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},ah=(0,j.createVarsResolver)((a,{radius:b,color:c,variant:d,autoContrast:e})=>{let f=a.variantColorResolver({theme:a,color:c||a.primaryColor,autoContrast:e,variant:d||"filled"});return{tooltip:{"--tooltip-radius":void 0===b?void 0:(0,i.getRadius)(b),"--tooltip-bg":c?f.background:void 0,"--tooltip-color":c?f.color:void 0}}}),ai=(0,n.factory)((a,c)=>{let e=(0,l.useProps)("Tooltip",ag,a),{children:f,position:g,refProp:i,label:j,openDelay:n,closeDelay:o,onPositionChange:p,opened:q,defaultOpened:r,withinPortal:s,radius:t,color:u,classNames:v,styles:w,unstyled:x,style:y,className:z,withArrow:A,arrowSize:B,arrowOffset:C,arrowRadius:D,arrowPosition:E,offset:F,transitionProps:G,multiline:I,events:Q,zIndex:T,disabled:U,positionDependencies:X,onClick:Y,onMouseEnter:Z,onMouseLeave:$,inline:aa,variant:ab,keepMounted:ac,vars:ai,portalProps:aj,mod:ak,floatingStrategy:al,middlewares:am,autoContrast:an,attributes:ao,target:ap,...aq}=(0,l.useProps)("Tooltip",ag,e),{dir:ar}=(0,L.useDirection)(),as=(0,h.useRef)(null),at=function(a){let b,c,[d,e]=(0,h.useState)(a.defaultOpened),f="boolean"==typeof a.opened?a.opened:d,g=(0,h.useContext)(_),i=(0,ae.useId)(),j=(0,h.useCallback)(a=>{e(a),a&&t(i)},[i]),{x:k,y:l,context:m,refs:n,placement:o,middlewareData:{arrow:{x:p,y:q}={}}}=(0,V.useFloating)({strategy:a.strategy,placement:a.position,open:f,onOpenChange:j,middleware:(b=function(a){if(void 0===a)return{shift:!0,flip:!0};let b={...a};return void 0===a.shift&&(b.shift=!0),void 0===a.flip&&(b.flip=!0),b}(a.middlewares),c=[(0,W.offset)(a.offset)],b.shift&&c.push((0,W.shift)("boolean"==typeof b.shift?{padding:8}:{padding:8,...b.shift})),b.flip&&c.push("boolean"==typeof b.flip?(0,W.flip)():(0,W.flip)(b.flip)),c.push((0,W.arrow)({element:a.arrowRef,padding:a.arrowOffset})),b.inline?c.push("boolean"==typeof b.inline?(0,W.inline)():(0,W.inline)(b.inline)):a.inline&&c.push((0,W.inline)()),c),whileElementsMounted:ad.autoUpdate}),{delay:r,currentId:s,setCurrentId:t}=(0,V.useDelayGroup)(m,{id:i}),{getReferenceProps:u,getFloatingProps:v}=(0,V.useInteractions)([(0,V.useHover)(m,{enabled:a.events?.hover,delay:g?r:{open:a.openDelay,close:a.closeDelay},mouseOnly:!a.events?.touch}),(0,V.useFocus)(m,{enabled:a.events?.focus,visibleOnly:!0}),(0,V.useRole)(m,{role:"tooltip"}),(0,V.useDismiss)(m,{enabled:void 0===a.opened})]);(0,af.useDidUpdate)(()=>{a.onPositionChange?.(o)},[o]);let w=f&&s&&s!==i;return{x:k,y:l,arrowX:p,arrowY:q,reference:n.setReference,floating:n.setFloating,getFloatingProps:v,getReferenceProps:u,isGroupPhase:w,opened:f,placement:o}}({position:(0,N.getFloatingPosition)(ar,g),closeDelay:o,openDelay:n,onPositionChange:p,opened:q,defaultOpened:r,events:Q,arrowRef:as,arrowOffset:C,offset:"number"==typeof F?F+(A?B/2:0):F,positionDependencies:[...X,ap??f],inline:aa,strategy:al,middlewares:am});(0,h.useEffect)(()=>{let a=ap instanceof HTMLElement?ap:"string"==typeof ap?document.querySelector(ap):ap?.current||null;a&&at.reference(a)},[ap,at]);let au=(0,m.useStyles)({name:"Tooltip",props:e,classes:S,className:z,style:y,classNames:v,styles:w,unstyled:x,attributes:ao,rootSelector:"tooltip",vars:ai,varsResolver:ah}),av=(0,K.getSingleElementChild)(f);if(!ap&&!av)return null;if(ap){let a=R(G,{duration:100,transition:"fade"});return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(O.OptionalPortal,{...aj,withinPortal:s,children:(0,b.jsx)(P.Transition,{...a,keepMounted:ac,mounted:!U&&!!at.opened,duration:at.isGroupPhase?10:a.duration,children:a=>(0,b.jsxs)(d.Box,{...aq,"data-fixed":"fixed"===al||void 0,variant:ab,mod:[{multiline:I},ak],...at.getFloatingProps({ref:at.floating,className:au("tooltip").className,style:{...au("tooltip").style,...a,zIndex:T,top:at.y??0,left:at.x??0}}),children:[j,(0,b.jsx)(M.FloatingArrow,{ref:as,arrowX:at.arrowX,arrowY:at.arrowY,visible:A,position:at.placement,arrowSize:B,arrowOffset:C,arrowRadius:D,arrowPosition:E,...au("arrow")})]})})})})}let aw=av.props,ax=(0,H.useMergedRef)(at.reference,(0,J.getRefProp)(av),c),ay=R(G,{duration:100,transition:"fade"});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.OptionalPortal,{...aj,withinPortal:s,children:(0,b.jsx)(P.Transition,{...ay,keepMounted:ac,mounted:!U&&!!at.opened,duration:at.isGroupPhase?10:ay.duration,children:a=>(0,b.jsxs)(d.Box,{...aq,"data-fixed":"fixed"===al||void 0,variant:ab,mod:[{multiline:I},ak],...at.getFloatingProps({ref:at.floating,className:au("tooltip").className,style:{...au("tooltip").style,...a,zIndex:T,top:at.y??0,left:at.x??0}}),children:[j,(0,b.jsx)(M.FloatingArrow,{ref:as,arrowX:at.arrowX,arrowY:at.arrowY,visible:A,position:at.placement,arrowSize:B,arrowOffset:C,arrowRadius:D,arrowPosition:E,...au("arrow")})]})})}),(0,h.cloneElement)(av,at.getReferenceProps({onClick:Y,onMouseEnter:Z,onMouseLeave:$,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,...aw,className:(0,k.default)(z,aw.className),[i]:ax}))]})});ai.classes=S,ai.displayName="@mantine/core/Tooltip",ai.Floating=$,ai.Group=ac;var aj=a.i(49862);let ak=(0,aj.default)("outline","check","Check",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);var al=a.i(51519),am=a.i(9470);let an=(0,aj.default)("outline","calendar","Calendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]);var ao=a.i(50694),ap=a.i(71987);let aq=()=>{let[a,c]=(0,h.useState)(null),[e,f]=(0,h.useState)(!0),[g,i]=(0,h.useState)(null);return((0,h.useEffect)(()=>{(async()=>{try{f(!0);let a=await fetch("/api/music/current");if(!a.ok)throw Error("Failed to fetch current track");let b=await a.json();c(b.track)}catch(a){i(a instanceof Error?a.message:"Failed to fetch track"),console.error("Error fetching track:",a)}finally{f(!1)}})()},[]),e)?(0,b.jsx)(d.Box,{className:ao.default.glassCard,style:{maxWidth:"420px"},children:(0,b.jsxs)(r,{gap:"lg",align:"center",justify:"center",h:500,children:[(0,b.jsx)(A.Loader,{size:"lg"}),(0,b.jsx)(z.Text,{c:"dimmed",children:"Loading track..."})]})}):g||!a?(0,b.jsx)(d.Box,{className:ao.default.glassCard,style:{maxWidth:"420px"},children:(0,b.jsxs)(r,{gap:"lg",align:"center",justify:"center",h:500,children:[(0,b.jsx)(z.Text,{c:"red",children:g||"No track data available"}),(0,b.jsx)(z.Text,{size:"sm",c:"dimmed",children:"Make sure your Last.fm account is connected and has scrobbles"})]})}):(0,b.jsxs)(d.Box,{className:ao.default.glassCard,style:{maxWidth:"420px"},children:[(0,b.jsx)("div",{className:ao.default.albumArt,children:a.image?(0,b.jsx)(ap.default,{src:a.image,alt:`${a.name} by ${a.artist}`,width:400,height:400,priority:!0}):(0,b.jsx)("div",{style:{width:"100%",height:"400px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:(0,b.jsx)(z.Text,{children:"No album art"})})}),(0,b.jsxs)(r,{gap:"xs",align:"center",children:[(0,b.jsx)("div",{style:{width:"100%",overflow:"hidden",textAlign:"center"},children:(0,b.jsx)(y,{order:2,size:"h3",style:{marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a.name})}),(0,b.jsx)(z.Text,{size:"sm",c:"dimmed",truncate:!0,style:{width:"100%"},children:a.artist}),(0,b.jsx)(z.Text,{size:"xs",c:"dimmed",children:a.album})]}),(0,b.jsxs)(B.Group,{justify:"center",mt:"md",gap:"xs",children:[a.loved&&(0,b.jsx)(ai,{label:"Loved on Last.fm",children:(0,b.jsx)(G,{leftSection:(0,b.jsx)(am.IconHeart,{size:12}),variant:"filled",color:"red",children:"Loved"})}),a.playedAt&&(0,b.jsx)(ai,{label:"Last played",children:(0,b.jsx)(G,{leftSection:(0,b.jsx)(an,{size:12}),variant:"light",children:a.playedAt})})]}),a.url&&(0,b.jsx)(B.Group,{justify:"center",mt:"md",children:(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,b.jsx)(z.Text,{size:"sm",c:"blue",component:"span",children:"View on Last.fm â†’"})})}),(0,b.jsxs)("div",{className:ao.default.swipeControls,style:{marginTop:"auto"},children:[(0,b.jsx)("button",{className:`${ao.default.swipeButton} ${ao.default.rejectButton}`,children:(0,b.jsx)(al.IconX,{size:24})}),(0,b.jsx)("button",{className:`${ao.default.swipeButton} ${ao.default.acceptButton}`,children:(0,b.jsx)(ak,{size:24})})]})]})},ar=(0,aj.default)("outline","sparkles","Sparkles",[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2m0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2m-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6",key:"svg-0"}]]),as=(0,aj.default)("outline","music","Music",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]]);var at=a.i(36958),au=a.i(33608),av=a.i(5996),aw={root:"m_96b553a6"},ax=a.i(65951),ay=a.i(69653);let az=(0,j.createVarsResolver)((a,{transitionDuration:b})=>({root:{"--transition-duration":"number"==typeof b?`${b}ms`:b}})),aA=(0,n.factory)((a,c)=>{let e=(0,l.useProps)("FloatingIndicator",null,a),{classNames:f,className:g,style:i,styles:j,unstyled:k,vars:n,target:o,parent:p,transitionDuration:q,mod:r,displayAfterTransitionEnd:s,attributes:t,...u}=e,v=(0,m.useStyles)({name:"FloatingIndicator",classes:aw,props:e,className:g,style:i,classNames:f,styles:j,unstyled:k,attributes:t,vars:n,varsResolver:az}),w=(0,h.useRef)(null),{initialized:x,hidden:y}=function({target:a,parent:b,ref:c,displayAfterTransitionEnd:d}){let e=(0,h.useRef)(-1),[f,g]=(0,h.useState)(!1),[i,j]=(0,h.useState)("boolean"==typeof d&&d),k=()=>{if(!a||!b||!c.current)return;let d=a.getBoundingClientRect(),e=b.getBoundingClientRect(),f=window.getComputedStyle(a),g=window.getComputedStyle(b),h=(0,ay.toInt)(f.borderTopWidth)+(0,ay.toInt)(g.borderTopWidth),i=(0,ay.toInt)(f.borderLeftWidth)+(0,ay.toInt)(g.borderLeftWidth),j={top:d.top-e.top-h,left:d.left-e.left-i,width:d.width,height:d.height};c.current.style.transform=`translateY(${j.top}px) translateX(${j.left}px)`,c.current.style.width=`${j.width}px`,c.current.style.height=`${j.height}px`},l=()=>{window.clearTimeout(e.current),c.current&&(c.current.style.transitionDuration="0ms"),k(),e.current=window.setTimeout(()=>{c.current&&(c.current.style.transitionDuration="")},30)},m=(0,h.useRef)(null),n=(0,h.useRef)(null);return(0,h.useEffect)(()=>{if(k(),a)return m.current=new ResizeObserver(l),m.current.observe(a),b&&(n.current=new ResizeObserver(l),n.current.observe(b)),()=>{m.current?.disconnect(),n.current?.disconnect()}},[b,a]),(0,h.useEffect)(()=>{if(b){let a=a=>{(function(a,b){if(!b||!a)return!1;let c=b.parentNode;for(;null!=c;){if(c===a)return!0;c=c.parentNode}return!1})(a.target,b)&&(l(),j(!1))};return b.addEventListener("transitionend",a),()=>{b.removeEventListener("transitionend",a)}}},[b]),!function(a,b,c={autoInvoke:!1}){let d=(0,h.useRef)(null),e=(0,h.useCallback)((...b)=>{d.current||(d.current=window.setTimeout(()=>{a(b),d.current=null},20))},[20]),f=(0,h.useCallback)(()=>{d.current&&(window.clearTimeout(d.current),d.current=null)},[]);(0,h.useEffect)(()=>(c.autoInvoke&&e(),f),[f,e])}(()=>{"test"!=("u">typeof process&&process.env&&1?"production":"development")&&g(!0)},0,{autoInvoke:!0}),(0,ax.useMutationObserver)(a=>{a.forEach(a=>{"attributes"===a.type&&"dir"===a.attributeName&&l()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:f,hidden:i}}({target:o,parent:p,ref:w,displayAfterTransitionEnd:s}),z=(0,H.useMergedRef)(c,w);return o&&p?(0,b.jsx)(d.Box,{ref:z,mod:[{initialized:x,hidden:y},r],...v("root"),...u}):null});aA.displayName="@mantine/core/FloatingIndicator",aA.classes=aw;var aB={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};let aC={withItemsBorders:!0},aD=(0,j.createVarsResolver)((a,{radius:b,color:c,transitionDuration:d,size:e,transitionTimingFunction:f})=>({root:{"--sc-radius":void 0===b?void 0:(0,i.getRadius)(b),"--sc-color":c?(0,C.getThemeColor)(c,a):void 0,"--sc-shadow":c?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":void 0===d?void 0:`${d}ms`,"--sc-transition-timing-function":f,"--sc-padding":(0,i.getSize)(e,"sc-padding"),"--sc-font-size":(0,i.getFontSize)(e)}})),aE=(0,n.factory)((a,c)=>{var e,f;let g,i,j=(0,l.useProps)("SegmentedControl",aC,a),{classNames:k,className:n,style:o,styles:p,unstyled:q,vars:r,data:s,value:t,defaultValue:u,onChange:v,size:w,name:x,disabled:y,readOnly:z,fullWidth:A,orientation:B,radius:C,color:D,transitionDuration:E,transitionTimingFunction:F,variant:G,autoContrast:I,withItemsBorders:J,mod:K,attributes:L,...M}=j,N=(0,m.useStyles)({name:"SegmentedControl",props:j,classes:aB,className:n,style:o,classNames:k,styles:p,unstyled:q,attributes:L,vars:r,varsResolver:aD}),O=(0,T.useMantineTheme)(),P=s.map(a=>"string"==typeof a?{label:a,value:a}:a),Q=function(){let[a,b]=(0,h.useState)(!1);return(0,h.useEffect)(()=>b(!0),[]),a}(),[R,S]=(0,h.useState)((0,at.randomId)()),[U,V]=(0,h.useState)(null),[W,X]=(0,h.useState)({}),[Y,Z]=(0,au.useUncontrolled)({value:t,defaultValue:u,finalValue:Array.isArray(s)?P.find(a=>!a.disabled)?.value??s[0]?.value??null:null,onChange:v}),$=(0,ae.useId)(x),_=P.map(a=>(0,h.createElement)(d.Box,{...N("control"),mod:{active:Y===a.value,orientation:B},key:a.value},(0,h.createElement)("input",{...N("input"),disabled:y||a.disabled,type:"radio",name:$,value:a.value,id:`${$}-${a.value}`,checked:Y===a.value,onChange:()=>!z&&Z(a.value),"data-focus-ring":O.focusRing,key:`${a.value}-input`}),(0,h.createElement)(d.Box,{component:"label",...N("label"),mod:{active:Y===a.value&&!(y||a.disabled),disabled:y||a.disabled,"read-only":z},htmlFor:`${$}-${a.value}`,ref:b=>{W[a.value]=b,X(W)},__vars:{"--sc-label-color":void 0!==D?(0,av.getContrastColor)({color:D,theme:O,autoContrast:I}):void 0},key:`${a.value}-label`},(0,b.jsx)("span",{...N("innerLabel"),children:a.label})))),aa=(0,H.useMergedRef)(c,a=>V(a));return(e=()=>{S((0,at.randomId)())},f=[s.length],(0,h.useEffect)(e,(g=(0,h.useRef)([]),i=(0,h.useRef)(0),!function(a,b){if(!a||!b)return!1;if(a===b)return!0;if(a.length!==b.length)return!1;for(let c=0;c<a.length;c+=1)if(!function(a,b){if(a===b||Number.isNaN(a)&&Number.isNaN(b))return!0;if(!(a instanceof Object)||!(b instanceof Object))return!1;let c=Object.keys(a),{length:d}=c;if(d!==Object.keys(b).length)return!1;for(let e=0;e<d;e+=1){let d=c[e];if(!(d in b)||a[d]!==b[d]&&!(Number.isNaN(a[d])&&Number.isNaN(b[d])))return!1}return!0}(a[c],b[c]))return!1;return!0}(g.current,f)&&(g.current=f,i.current+=1),[i.current])),0===s.length)?null:(0,b.jsxs)(d.Box,{...N("root"),variant:G,size:w,ref:aa,mod:[{"full-width":A,orientation:B,initialized:Q,"with-items-borders":J},K],...M,role:"radiogroup","data-disabled":y,children:["string"==typeof Y&&(0,b.jsx)(aA,{target:W[Y],parent:U,component:"span",transitionDuration:"var(--sc-transition-duration)",...N("indicator")},R),_]})});function aF({classNames:a,radius:c,size:d,data:e,value:f,onChange:g}){return(0,b.jsx)(aE,{classNames:{...a},radius:c,size:d,data:e,value:f,onChange:g})}aE.classes=aB,aE.displayName="@mantine/core/SegmentedControl";let aG=()=>{let[a,c]=(0,h.useState)("info"),[d,e]=(0,h.useState)(null),[f,g]=(0,h.useState)(!1),[i,j]=(0,h.useState)(null),[k,l]=(0,h.useState)(null);return(0,h.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/music/current");if(a.ok){let b=await a.json();l(b.track)}}catch(a){console.error("Error fetching current track:",a)}})()},[]),(0,h.useEffect)(()=>{if(!k?.artist)return;let b=async()=>{try{g(!0);let a=new URLSearchParams({artistName:k.artist}),b=await fetch(`/api/music/recommendations?${a}`);if(!b.ok)throw Error("Failed to fetch artist info");await b.json(),j(null)}catch(a){j(a instanceof Error?a.message:"Failed to fetch artist info"),console.error("Error fetching artist info:",a)}finally{g(!1)}};"info"===a&&b()},[k?.artist,a]),(0,b.jsxs)("div",{className:ao.default.lyricsPanelContainer,children:[(0,b.jsx)("div",{className:ao.default.lyricsPanelHeader,children:(0,b.jsx)(aF,{classNames:{root:ao.default.gradientControlRoot,indicator:ao.default.gradientControlIndicator,control:ao.default.gradientControlControl,label:ao.default.gradientControlLabel},data:[{value:"info",label:"Artist Info"},{value:"ai",label:"AI Analysis"}],value:a,onChange:c,size:"xs",radius:"lg"})}),"info"===a?(0,b.jsx)("div",{className:ao.default.lyricContent,children:f?(0,b.jsxs)(r,{gap:"lg",align:"center",justify:"center",h:"100%",p:"md",children:[(0,b.jsx)(A.Loader,{size:"lg"}),(0,b.jsx)(z.Text,{size:"sm",c:"dimmed",children:"Loading artist info..."})]}):i?(0,b.jsx)(r,{gap:"lg",align:"center",justify:"center",h:"100%",p:"md",children:(0,b.jsx)(z.Text,{size:"sm",c:"red",children:i})}):k?(0,b.jsxs)(r,{gap:"md",className:ao.default.lyricsText,children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(B.Group,{gap:"xs",mb:"xs",children:[(0,b.jsx)(as,{size:18}),(0,b.jsx)(z.Text,{fw:600,children:"Currently Checking"})]}),(0,b.jsx)(z.Text,{className:ao.default.lyricLineHighlight,children:k.name}),(0,b.jsxs)(z.Text,{size:"sm",c:"dimmed",children:["by ",k.artist]})]}),(0,b.jsx)("div",{style:{borderTop:"1px solid var(--mantine-color-gray-7)",paddingTop:"12px"},children:(0,b.jsx)(z.Text,{size:"sm",c:"dimmed",children:"Explore similar artists, check track stats, and discover music recommendations on Last.fm"})}),k&&(0,b.jsx)("a",{href:`https://www.last.fm/search?q=${encodeURIComponent(k.name+" "+k.artist)}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,b.jsx)("button",{className:ao.default.generateButton,style:{width:"100%",marginTop:"8px"},children:"View on Last.fm"})})]}):(0,b.jsx)(r,{gap:"lg",align:"center",justify:"center",h:"100%",p:"md",children:(0,b.jsx)(z.Text,{size:"sm",c:"dimmed",children:"No track data available"})})}):(0,b.jsx)("div",{className:ao.default.lyricContent,children:(0,b.jsxs)("div",{className:ao.default.lyricText,children:[(0,b.jsxs)("div",{className:ao.default.aiHeader,children:[(0,b.jsx)("div",{className:ao.default.aiIcon,children:(0,b.jsx)(ar,{size:20})}),(0,b.jsx)(z.Text,{className:ao.default.aiLabel,mt:"xs",children:"Track Insights"})]}),(0,b.jsxs)("div",{className:ao.default.aiStats,children:[(0,b.jsxs)("div",{className:ao.default.aiStat,children:[(0,b.jsx)("span",{className:ao.default.aiStatLabel,children:"Availability"}),(0,b.jsx)("span",{className:ao.default.aiStatValue,children:"Last.fm Integration"})]}),(0,b.jsxs)("div",{className:ao.default.aiStat,children:[(0,b.jsx)("span",{className:ao.default.aiStatLabel,children:"Track Stats"}),(0,b.jsx)("span",{className:ao.default.aiStatValue,children:"Listeners & Play Counts"})]}),(0,b.jsxs)("div",{className:ao.default.aiStat,children:[(0,b.jsx)("span",{className:ao.default.aiStatLabel,children:"Recommendations"}),(0,b.jsx)("span",{className:ao.default.aiStatValue,children:"Similar Artists & Tracks"})]}),(0,b.jsxs)("div",{className:ao.default.aiStat,children:[(0,b.jsx)("span",{className:ao.default.aiStatLabel,children:"Music Discovery"}),(0,b.jsx)("span",{className:ao.default.aiStatValue,children:"Powered by Last.fm API"})]})]}),(0,b.jsx)("button",{className:ao.default.generateButton,children:"Learn More About Last.fm"})]})})]})};var aH=a.i(46713);let aI=()=>{let[a,c]=(0,h.useState)([]),[d,e]=(0,h.useState)(!0),[f,g]=(0,h.useState)(null);return(0,h.useEffect)(()=>{(async()=>{try{e(!0);let a=await fetch("/api/music/top-tracks?limit=10&period=overall");if(!a.ok)throw Error("Failed to fetch top tracks");let b=await a.json();c(b.tracks)}catch(a){g(a instanceof Error?a.message:"Failed to fetch tracks"),console.error("Error fetching top tracks:",a)}finally{e(!1)}})()},[]),(0,b.jsxs)("div",{className:ao.default.playlistContainer,children:[(0,b.jsx)("div",{className:ao.default.playlistHeader,children:(0,b.jsx)(z.Text,{className:ao.default.playlistTitle,children:"Top Tracks"})}),(0,b.jsx)(aH.ScrollArea,{className:ao.default.playlistScrollArea,children:d?(0,b.jsxs)(r,{gap:"sm",align:"center",justify:"center",p:"md",children:[(0,b.jsx)(A.Loader,{size:"sm"}),(0,b.jsx)(z.Text,{size:"sm",c:"dimmed",children:"Loading tracks..."})]}):f?(0,b.jsxs)(r,{gap:"sm",align:"center",justify:"center",p:"md",children:[(0,b.jsx)(z.Text,{size:"sm",c:"red",children:f}),(0,b.jsx)(z.Text,{size:"xs",c:"dimmed",children:"Make sure your Last.fm account is connected"})]}):0===a.length?(0,b.jsx)(r,{gap:"sm",align:"center",justify:"center",p:"md",children:(0,b.jsx)(z.Text,{size:"sm",c:"dimmed",children:"No tracks found"})}):(0,b.jsx)(r,{gap:"sm",className:ao.default.songsList,children:a.map((a,c)=>(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,b.jsx)("button",{className:ao.default.songItem,title:`${a.name} by ${a.artist} (${a.playcount} plays)`,children:(0,b.jsx)("div",{className:ao.default.songItemContent,children:(0,b.jsxs)(B.Group,{justify:"space-between",w:"100%",gap:0,children:[(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)(z.Text,{className:ao.default.songTitle,truncate:!0,children:a.name}),(0,b.jsx)(z.Text,{className:ao.default.songArtist,truncate:!0,children:a.artist})]}),(0,b.jsxs)(z.Text,{size:"xs",c:"dimmed",style:{whiteSpace:"nowrap",marginLeft:"8px"},children:[a.playcount," plays"]})]})})})},`${a.artist}-${a.name}`))})})]})};a.s(["default",0,()=>{let[a,{toggle:h}]=(0,e.useDisclosure)(),[i,j]=(0,e.useDisclosure)(!1);return(0,b.jsxs)(c.AppShell,{header:{height:60},navbar:{width:260,breakpoint:"sm",collapsed:{mobile:!a}},padding:"md",children:[(0,b.jsx)(c.AppShell.Header,{children:(0,b.jsx)(g.default,{})}),(0,b.jsx)(c.AppShell.Navbar,{p:"md",children:(0,b.jsx)(f.default,{})}),(0,b.jsx)(c.AppShell.Main,{children:(0,b.jsx)(d.Box,{className:ao.default.container,children:(0,b.jsxs)("div",{className:ao.default.dashboardGrid,children:[(0,b.jsx)(aI,{}),(0,b.jsx)(aq,{}),(0,b.jsx)(aG,{})]})})})]})}],49846)}];

//# sourceMappingURL=src_app_dashboard_fcf094a5._.js.map